<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>@samwize</title>
    <description>¬Ø\_(„ÉÑ)_/¬Ø
</description>
    <link>https://samwize.com/</link>
    <atom:link href="https://samwize.com/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sat, 08 Feb 2020 12:36:54 +0800</pubDate>
    <lastBuildDate>Sat, 08 Feb 2020 12:36:54 +0800</lastBuildDate>
    <generator>Jekyll v3.8.5</generator>
    
      <item>
        <title>Bet You Didn't Know: You Don't Need 5.5 Inch Screenshots for App Store</title>
        <description>&lt;p&gt;The &lt;a href=&quot;https://help.apple.com/app-store-connect/#/devd274dd925&quot;&gt;App Store screenshots specification&lt;/a&gt; (as of Feb 2020) states that you need &lt;strong&gt;at least these two sizes&lt;/strong&gt;:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;6.5 inch (iPhone 11 etc)&lt;/li&gt;
  &lt;li&gt;5.5 inch (iPhone 8 etc)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;After a series of app review rejections, I learnt that &lt;strong&gt;reviewers can approve your app without 5.5‚Äù screenshots&lt;/strong&gt;!&lt;/p&gt;

&lt;p&gt;Take a look of my app in developer portal:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/dualgram-no-5-5.jpg&quot; alt=&quot;&quot; class=&quot;border&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;does-it-mean-the-app-does-not-support-55&quot;&gt;Does it mean the app does not support 5.5‚Äù?&lt;/h2&gt;

&lt;p&gt;Absolutely NOT.&lt;/p&gt;

&lt;p&gt;If you check out my app on a 5.5‚Äù device, it will still show up, but the screenshots is using 6.5‚Äù ones..&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/dualgram-on-5_5-device.jpg&quot; alt=&quot;Without 5.5&amp;quot; vs With 5.5&amp;quot;, on iPhone 8&quot; class=&quot;border&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So, it seems App Store will &lt;strong&gt;make 5.5‚Äù screenshots optional&lt;/strong&gt; in the future. For now, app reviewers are given the power to approve without 5.5‚Äù.&lt;/p&gt;

&lt;h2 id=&quot;why-my-app-can-do-without-55&quot;&gt;Why my app can do without 5.5‚Äù?&lt;/h2&gt;

&lt;p&gt;Let me now tell the whole story, which doesn‚Äôt end well.&lt;/p&gt;

&lt;p&gt;My app ‚Äì &lt;a href=&quot;https://dualgram.com&quot;&gt;Dualgram&lt;/a&gt; ‚Äì doesn‚Äôt support 5.5 inch devices (iPhone 8 and below). So the screenshot warns users NOT to download (above screenshot, on the right).&lt;/p&gt;

&lt;p&gt;The reviewer rejects on the grounds of &lt;strong&gt;Accurate Metadata&lt;/strong&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;We noticed that your screenshots do not sufficiently reflect your app in use.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I appealed, but failed.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;(Strangely, 2 months ago, I appealed for the same issue, and succeeded.)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Then this suggestion:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/dualgram-rejected-remove-5_5-2.jpg&quot; alt=&quot;&quot; class=&quot;border&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I tried, but couldn‚Äôt submit, so I ask for help:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/dualgram-rejected-remove-5_5-3.jpg&quot; alt=&quot;&quot; class=&quot;border&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Hail to their power, they override the error, and approved!&lt;/p&gt;

&lt;h2 id=&quot;not-what-i-expected&quot;&gt;Not what I expected&lt;/h2&gt;

&lt;p&gt;I thought that without 5.5‚Äù screenshot, the app will not support 5.5‚Äù devices.&lt;/p&gt;

&lt;p&gt;But no, it simply uses the 6.5‚Äù screenshots..&lt;/p&gt;

&lt;p&gt;No good at all, for Dualgram..&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Related:&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/2019/09/20/i-am-no-longer-surprise-over-app-store-review-rejections/&quot;&gt;I‚Äôm Not Surprise With App Store Review Rejections Anymore&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 08 Feb 2020 11:48:21 +0800</pubDate>
        <link>https://samwize.com/2020/02/08/bet-you-didnt-know-you-dont-need-5-5-screenshots-for-app-store/</link>
        <guid isPermaLink="true">https://samwize.com/2020/02/08/bet-you-didnt-know-you-dont-need-5-5-screenshots-for-app-store/</guid>
        
        
        <category>App Store</category>
        
        <category>Rejections</category>
        
      </item>
    
      <item>
        <title>iOS Conf SG 2020 Videos</title>
        <description>&lt;p&gt;Videos from &lt;a href=&quot;https://2020.iosconf.sg/&quot;&gt;iOS Conf SG 2020&lt;/a&gt; are now available on &lt;a href=&quot;https://www.youtube.com/channel/UCUwelGOCK00mp8j241tFbeg/videos&quot;&gt;YouTube&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here are 3 that I enjoyed.&lt;/p&gt;

&lt;h2 id=&quot;1-global-variable-oriented-programming&quot;&gt;1. &lt;a href=&quot;https://www.youtube.com/watch?v=CyQ59ZfT5E0&quot;&gt;Global Variable Oriented Programming&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;Admit it. &lt;strong&gt;We all are using global variables&lt;/strong&gt;, in the form of singletons, and environment (a singleton wrapping multiple singletons)!&lt;/p&gt;

&lt;p&gt;SwiftUI changes everything.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;View are now &lt;code class=&quot;highlighter-rouge&quot;&gt;Struct&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Data are now &lt;code class=&quot;highlighter-rouge&quot;&gt;Class&lt;/code&gt; ü§î&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;@twostraws showed how we can implement global data and still observe them in &lt;strong&gt;UIKit&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;2-building-secure-ios-apps&quot;&gt;2. &lt;a href=&quot;https://www.youtube.com/watch?v=b6LI6j_aJ9k&quot;&gt;Building Secure iOS Apps&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://owasp.org&quot;&gt;OWASP&lt;/a&gt; for mobile appsec. &lt;a href=&quot;https://github.com/OWASP/owasp-masvs&quot;&gt;MASVS&lt;/a&gt; is a standard for mobile apps. All developers should at least implement a basic level.&lt;/p&gt;

&lt;p&gt;Did you know can use &lt;a href=&quot;https://github.com/OWASP/owasp-mstg/blob/master/Document/0x06d-Testing-Data-Storage.md&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;LAContext&lt;/code&gt; with keychain&lt;/a&gt;?&lt;/p&gt;

&lt;h2 id=&quot;3-full-stack-development-with-vapor&quot;&gt;3. &lt;a href=&quot;https://www.youtube.com/watch?v=fpWOD3JpSrI&quot;&gt;Full stack development with Vapor&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;I think 2020 is prime time to use Vapor for server side development.&lt;/p&gt;

&lt;p&gt;It‚Äôs now &lt;a href=&quot;https://theswiftdev.com/2019/08/26/whats-new-in-vapor-4/&quot;&gt;Vapor 4&lt;/a&gt;, Swift 5.1, SwiftNIO 2. The ecosystem is more mature. And a &lt;a href=&quot;https://medium.com/better-programming/who-killed-kitura-e5aa1096a4c1&quot;&gt;competitor&lt;/a&gt; is killed.&lt;/p&gt;
</description>
        <pubDate>Fri, 31 Jan 2020 14:08:42 +0800</pubDate>
        <link>https://samwize.com/2020/01/31/ios-conf-sg-2020-videos/</link>
        <guid isPermaLink="true">https://samwize.com/2020/01/31/ios-conf-sg-2020-videos/</guid>
        
        
        <category>iOS</category>
        
        <category>Conference</category>
        
      </item>
    
      <item>
        <title>Comment: Omh's Day in the Life of an iOS Developer</title>
        <description>&lt;p&gt;I received the following push notification from &lt;a href=&quot;https://omh.sg&quot;&gt;ohmyhome&lt;/a&gt;, a Singapore PropTech startup.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/omh-push.jpg&quot; alt=&quot;I thought it's a joke&quot; /&gt;&lt;/p&gt;

&lt;p&gt;No joke, they really have a &lt;a href=&quot;https://omh.sg/blog/post/day-life-ios-developer&quot;&gt;blog post&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Understandably, the blog post is for &lt;a href=&quot;https://omh.sg/careers&quot;&gt;hiring&lt;/a&gt;, and thus the &lt;em&gt;cringy dramatic writing&lt;/em&gt; to put the company in good light.&lt;/p&gt;

&lt;p&gt;Probably directed and written by a PR person. The iOS developer is innocent. But it‚Äôs so amusing that I have to comment on it üòÇ&lt;/p&gt;

&lt;h2 id=&quot;800-am-work-in-progress-wip-meeting&quot;&gt;8:00 am: Work-In-Progress (WIP) meeting&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;a one-hour meeting across all the departments from Engineering, Marketing, Customer Service, Operations, Design, Business Development, the Philippines (PH) team, to the Malaysia team.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To start work at &lt;strong&gt;8am&lt;/strong&gt; is very, very rare. I call this a bluff.&lt;/p&gt;

&lt;p&gt;Worse of all, it‚Äôs a &lt;strong&gt;World War III meeting&lt;/strong&gt; with so many departments, for 1 hour! That‚Äôs 1 fresh hour wasted in the morning.&lt;/p&gt;

&lt;h2 id=&quot;900-am-stand-up-meeting&quot;&gt;9:00 am: Stand-up meeting&lt;/h2&gt;

&lt;p&gt;I hope he didn‚Äôt &lt;strong&gt;stand for 30 minutes&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;930-am-work-starts&quot;&gt;9:30 am: Work starts&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;dive into his JIRA list, Slack notifications and Trello board.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Oh no. JIRA + Trello. Is it the more tools the better?&lt;/p&gt;

&lt;h2 id=&quot;200-pm-to-400-pm-deep-work&quot;&gt;2:00 pm to 4:00 pm: Deep work&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;If he‚Äôs not furiously coding, he is regularly consulting our Backend Engineer for productive, technology-based discussions that spur creative solutions.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Communication with backend engineer is essential. But the discussions are usually just clarification over a lack of documentation, or to ask for changes to feed the app with data, or to find a bug together.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Creative solutions?&lt;/strong&gt; Hmm that usually result in bugs. Boring code is good.&lt;/p&gt;

&lt;h2 id=&quot;415-pm-to-445-pm-meeting-with-marketing-team&quot;&gt;4:15 pm to 4:45 pm: Meeting with Marketing Team&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;notify the marketing team to ideate campaigns that will communicate his hard work through beautifully designed artworks, ad copies, blog articles, videos and more.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;OMG. Don‚Äôt they have a &lt;a href=&quot;https://omh.sg/blog/post/day-life-product-manager?utm_source=blog&quot;&gt;Product Manager&lt;/a&gt;?&lt;/p&gt;

&lt;h2 id=&quot;445-pm-to-600-pm-more-coding&quot;&gt;4:45 pm to 6:00 pm: More coding&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;to clear the remaining pending items on his Trello board, which usually consists of code cleanups, committing his code, doing code reviews and submitting pull requests.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This is narrative fallacy.&lt;/p&gt;

&lt;p&gt;Engineers don‚Äôt do the above only at the end of the day.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The blog post also left out the real coding work done in silent nights, when there‚Äôs no one to disturb.&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 30 Jan 2020 17:47:53 +0800</pubDate>
        <link>https://samwize.com/2020/01/30/comment-omh-day-in-the-life-of-an-ios-developer/</link>
        <guid isPermaLink="true">https://samwize.com/2020/01/30/comment-omh-day-in-the-life-of-an-ios-developer/</guid>
        
        
        <category>Singapore</category>
        
        <category>Life</category>
        
      </item>
    
      <item>
        <title>Singapore Is Now Collecting GST From App Store</title>
        <description>&lt;p&gt;As a Singapore developer, I recently receive an email from Apple on the new GST law on digital goods &amp;amp; services.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://just2me.com/img/apple-email-on-gst-change.jpg&quot; alt=&quot;&quot; class=&quot;border&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;originally-posted-in-my-other-blog-here-is-an-excerpt&quot;&gt;Originally posted in &lt;a href=&quot;https://just2me.com/2019/12/11/how-gst-on-digital-goods-affect-a-self-employed-app-developer/&quot;&gt;my other blog&lt;/a&gt;, here is an excerpt&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Due to tax regulation changes that go into effect on January 1, 2020 in Singapore, developers based in Singapore must provide their Singapore Goods and Services Tax (GST) registration status in App Store Connect by January 13, 2020.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;If you provide your GST Registration Number, your proceeds will not be affected.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;If you do not, you will be considered taxable per Singapore GST laws and regulations, therefore you will be charged 7% GST on WORLDWIDE commissions payable to Apple.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Please note that Apple does not administer GST on sales to customers in Singapore for developers based in Singapore. You are responsible for determining if GST applies to your sales and for remitting GST to the Inland Revenue Authority of Singapore (IRAS).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Apple gave Singapore developers 2 choices:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Don‚Äôt register for GST -&amp;gt; Apple charge 7% on WORLDWIDE commissions payable to Apple&lt;/li&gt;
  &lt;li&gt;Register for GST -&amp;gt; Proceeds unchanged (but you have to file GST return)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;http://just2me.com/img/not-gst-registered.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://just2me.com/img/gst-registered.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Read more &lt;a href=&quot;https://just2me.com/2019/12/11/how-gst-on-digital-goods-affect-a-self-employed-app-developer/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Overseas (non-Singapore) developers are also affected, though not strongly enforced, yet.&lt;/p&gt;
</description>
        <pubDate>Thu, 12 Dec 2019 15:49:07 +0800</pubDate>
        <link>https://samwize.com/2019/12/12/singapore-is-now-collecting-gst-from-app-store/</link>
        <guid isPermaLink="true">https://samwize.com/2019/12/12/singapore-is-now-collecting-gst-from-app-store/</guid>
        
        
        <category>Singapore</category>
        
      </item>
    
      <item>
        <title>Guide to Property Wrapper</title>
        <description>&lt;p&gt;With &lt;a href=&quot;https://github.com/apple/swift-evolution/blob/master/proposals/0258-property-wrappers.md&quot;&gt;SE-0258&lt;/a&gt;, Swift 5.1 adds a new &lt;a href=&quot;https://en.wikipedia.org/wiki/Syntactic_sugar&quot;&gt;syntactic sugar&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Properties can now add &lt;code class=&quot;highlighter-rouge&quot;&gt;@SomeAwesomeAttribute&lt;/code&gt;, which will wrap the property with &lt;em&gt;some more code&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&quot;should-you-use-it&quot;&gt;Should you use it?&lt;/h2&gt;

&lt;p&gt;Some developers swear never to use &lt;code class=&quot;highlighter-rouge&quot;&gt;didSet&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;willSet&lt;/code&gt; on properties, because that‚Äôs just adding another place where logics will happen. Another place to look for bug. Another place that can easily break tests..&lt;/p&gt;

&lt;p&gt;Similarly, you can avoid using property wrapper. Or at least you can &lt;strong&gt;avoid creating your custom ones&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;If you use Combine or SwiftUI, then there is no escape from knowing them.&lt;/p&gt;

&lt;p&gt;They have good reasons to use it. Some codes can be very repetitive; doing the same thing on a certain property. That‚Äôs where a wrapper will make the code much readable.&lt;/p&gt;

&lt;h2 id=&quot;example-of-a-custom-property-wrapper&quot;&gt;Example of a custom property wrapper&lt;/h2&gt;

&lt;p&gt;So if you‚Äôre certain a property wrapper will make your code better, here‚Äôs how to create one.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;@propertyWrapper&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Loud&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;original&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 1. This is how the wrapper get &amp;amp; set the property&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;wrappedValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;original&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;uppercased&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;original&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newValue&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 2. An init&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;wrappedValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;original&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wrappedValue&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// 3. Optional - provide another wrapper value of ANY TYPE, when access via the prefix `$`&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;projectedValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;original&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;original&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newValue&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code creates a &lt;code class=&quot;highlighter-rouge&quot;&gt;@Loud&lt;/code&gt; that can wrap &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; properties, making them always UPPERCASED. You can also wrap generics, which I will not go into.&lt;/p&gt;

&lt;p&gt;The essence:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@propertyWrapper&lt;/code&gt; declaration&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;wrappedValue&lt;/code&gt; with the type it can wrap&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;init(wrappedValue:)&lt;/code&gt; with a custom initialization&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;projectedValue&lt;/code&gt; (optional) is another special wrapper&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;

&lt;p&gt;Let‚Äôs wrap the &lt;code class=&quot;highlighter-rouge&quot;&gt;greetings&lt;/code&gt; property with our custom wrapper &lt;code class=&quot;highlighter-rouge&quot;&gt;@Loud&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;@Loud&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;greetings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With that, using the property &lt;code class=&quot;highlighter-rouge&quot;&gt;greetings&lt;/code&gt; will provide the wrapped value.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;greetings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &quot;HELLO&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can also use the &lt;strong&gt;projected value&lt;/strong&gt; via &lt;code class=&quot;highlighter-rouge&quot;&gt;$greetings&lt;/code&gt; (prefix with a &lt;code class=&quot;highlighter-rouge&quot;&gt;$&lt;/code&gt;). In our custom property wrapper, it returns the string length, as an &lt;code class=&quot;highlighter-rouge&quot;&gt;Int&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;greetings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A projected value is just &lt;em&gt;another convenient wrapper&lt;/em&gt;, for &lt;em&gt;any type&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;In Combine, &lt;code class=&quot;highlighter-rouge&quot;&gt;@Published&lt;/code&gt; uses the projected value to access the &lt;code class=&quot;highlighter-rouge&quot;&gt;Publisher&lt;/code&gt; for the property. &lt;em&gt;So $ gives Publisher.&lt;/em&gt; It is up to the custom property wrapper on &lt;em&gt;what $ gives&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Since the &lt;code class=&quot;highlighter-rouge&quot;&gt;$&lt;/code&gt; prefix don‚Äôt give any meaning on what it actually projects, you have to dig into the code, or &lt;em&gt;RTFD&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;So once again, use them sparingly.&lt;/p&gt;
</description>
        <pubDate>Wed, 04 Dec 2019 16:38:11 +0800</pubDate>
        <link>https://samwize.com/2019/12/04/guide-to-property-wrapper/</link>
        <guid isPermaLink="true">https://samwize.com/2019/12/04/guide-to-property-wrapper/</guid>
        
        
      </item>
    
      <item>
        <title>Supporting Dark Mode in iOS 13</title>
        <description>&lt;p&gt;WWDC 2019 gave us &lt;strong&gt;Dark Mode&lt;/strong&gt;. &lt;a href=&quot;https://nshipster.com/dark-mode/&quot;&gt;NSHipster&lt;/a&gt; has once again provided a complete guide, with a &lt;a href=&quot;https://nshipster.com/dark-mode/#use-semantic-colors&quot;&gt;helpful grouping&lt;/a&gt; of the new semantic colors.&lt;/p&gt;

&lt;p&gt;While I am working on an app, I only have 2 questions.&lt;/p&gt;

&lt;h2 id=&quot;what-about-pre-ios-13&quot;&gt;What about pre-iOS-13?&lt;/h2&gt;

&lt;p&gt;How will the new system color be interpreted on iOS 12, and earlier iOS?&lt;/p&gt;

&lt;p&gt;If you select a system color in Xcode Interface Builder, then for pre-iOS-13, Xcode will use the default light mode color.&lt;/p&gt;

&lt;p&gt;It is as if code with &lt;code class=&quot;highlighter-rouge&quot;&gt;#available&lt;/code&gt; is written for you:&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;#available(iOS 13.0, *)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theColor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theColor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;black&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So in other words, it is &lt;strong&gt;backward compatible&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;And so there‚Äôs no reason not to provide dark mode, other than some tedious mapping of the semantic colors.&lt;/p&gt;

&lt;h2 id=&quot;about-deprecated-table-group-colors&quot;&gt;About deprecated table group colors&lt;/h2&gt;

&lt;p&gt;If you use &lt;code class=&quot;highlighter-rouge&quot;&gt;groupTableViewBackground&lt;/code&gt;, then you should replace with the new &lt;code class=&quot;highlighter-rouge&quot;&gt;systemGroupedBackgroundColor&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The ‚Äúgroup table‚Äù concept was introduced &lt;strong&gt;since iOS 2&lt;/strong&gt;, but is now deprecated in iOS 13. The new concept dropped ‚Äúgroup table‚Äù, and simply refer to as ‚Äúgrouped background‚Äù.&lt;/p&gt;

&lt;p&gt;Table is dropped. That‚Äôs the new new semantic.&lt;/p&gt;

&lt;p&gt;It also makes perfect sense because often you will apply the color to non-table views.&lt;/p&gt;

&lt;p&gt;Similarly, in the color selector, don‚Äôt use the deprecated color.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/group-table-color-deprecated.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At the bottom of the screenshot, there is also a ‚ÄúTable Cell Grouped Background Color‚Äù. That is replaced with ‚ÄúSecondary System Grouped Background Color‚Äù.&lt;/p&gt;

&lt;h3 id=&quot;where-are-the-grouped-background-being-used&quot;&gt;Where are the grouped background being used?&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;‚ÄúSystem Grouped Background‚Äù is the &lt;strong&gt;table background&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;‚ÄúSecondary System grouped background‚Äù is the &lt;strong&gt;table cell background&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I refer to the use in table, but it can be for collection view, or whatever kind of encapsulating groups.&lt;/p&gt;

&lt;p&gt;There is also a ‚ÄúTertiary‚Äù group, which would be for a group within the secondary group.&lt;/p&gt;

&lt;p&gt;In light mode, (1) is light grey while (2) is white, which is the original group table.&lt;/p&gt;

&lt;p&gt;In dark mode, (1) is black while (2) is dark grey.&lt;/p&gt;

&lt;p&gt;Like this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://itunes.apple.com/app/id1065722243?at=11luru&quot;&gt;&lt;img src=&quot;/images/light-vs-dark-mode.jpg&quot; alt=&quot;An Example of Baby Log app&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 26 Nov 2019 12:00:42 +0800</pubDate>
        <link>https://samwize.com/2019/11/26/supporting-dark-mode-in-ios-13/</link>
        <guid isPermaLink="true">https://samwize.com/2019/11/26/supporting-dark-mode-in-ios-13/</guid>
        
        
        <category>iOS</category>
        
      </item>
    
      <item>
        <title>A Very Short Guide to rvm</title>
        <description>&lt;p&gt;rvm is a necessary tool to run different version of ruby.&lt;/p&gt;

&lt;p&gt;Once in a while I need to upgrade ruby version, but &lt;a href=&quot;https://rvm.io/rvm/basics&quot;&gt;rvm‚Äôs official doc&lt;/a&gt; is a bit too dense.&lt;/p&gt;

&lt;p&gt;Beyond installing, there are just a few commands that you really need.&lt;/p&gt;

&lt;h2 id=&quot;install-the-latest&quot;&gt;Install the latest&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rvm install ruby --latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or manually specify a version with &lt;code class=&quot;highlighter-rouge&quot;&gt;rvm install ruby 2.0.0-p247&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;set-the-default-version&quot;&gt;Set the default version&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rvm --default use ruby-2.6.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;default&lt;/code&gt; option is often needed, because without it, when you reload the terminal or restart the computer, it will use back the previous.&lt;/p&gt;

&lt;p&gt;To confirm the version in use:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ruby -v
which ruby
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;other-commands&quot;&gt;Other commands&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rvm list
rvm list known
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 25 Nov 2019 22:24:04 +0800</pubDate>
        <link>https://samwize.com/2019/11/25/guide-to-rvm/</link>
        <guid isPermaLink="true">https://samwize.com/2019/11/25/guide-to-rvm/</guid>
        
        
      </item>
    
      <item>
        <title>This Is How You Force iPhone to Power Off if It Get Stuck</title>
        <description>&lt;p&gt;When I say stuck, I mean &lt;strong&gt;really stuck&lt;/strong&gt; ‚Äì when pressing the side button and volume button does NOT even work.&lt;/p&gt;

&lt;h2 id=&quot;my-situation&quot;&gt;My situation&lt;/h2&gt;

&lt;p&gt;I encountered this situation when building and installing an app from Xcode. As usual, the app launch screen is shown first. But something went wrong. It took way too long, and stuck at the launch screen.&lt;/p&gt;

&lt;p&gt;Intuitively, I stop Xcode, pull out the USB cable, and try to reinstall again.&lt;/p&gt;

&lt;p&gt;But, my &lt;strong&gt;iPhone 11 Pro Max&lt;/strong&gt; does not respond any longer!&lt;/p&gt;

&lt;p&gt;Ok, not totally unresponsive. In fact, it can do many things &lt;strong&gt;except going to the springboard&lt;/strong&gt;. It can still access widgets, play music, volume button still works, use siri, camera, etc..&lt;/p&gt;

&lt;p&gt;It just can‚Äôt go to springboard and access apps.&lt;/p&gt;

&lt;h2 id=&quot;failed-ways&quot;&gt;Failed Ways&lt;/h2&gt;

&lt;p&gt;I tried many ways to shut down the iPhone, including:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The designed trigger by holding all 3 available buttons on iPhone ‚Äì Somehow the ‚ÄúSlide to Power Off‚Äù never appears&lt;/li&gt;
  &lt;li&gt;Asking Siri to shut down ‚Äì Nope, Siri can‚Äôt do that&lt;/li&gt;
  &lt;li&gt;Connect to mac ‚Äì But can‚Äôt connect&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The backup plan is to drain the battery, by playing loud music constantly with the screen on. Unfortunately, my battery was at 100%..&lt;/p&gt;

&lt;h2 id=&quot;the-ultimate-solution&quot;&gt;The Ultimate Solution&lt;/h2&gt;

&lt;p&gt;Then an ingenious idea struck me, after trying for an hour.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Tell Siri to &lt;strong&gt;Turn on assistive touch&lt;/strong&gt; ‚Äì that Siri can do&lt;/li&gt;
  &lt;li&gt;Use the on screen buttons to access &lt;strong&gt;Device &amp;gt; Restart&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/images/turn-on-assistive-touch-restart.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Yeah.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;UPDATE: &lt;a href=&quot;https://twitter.com/samwize/status/1185382585100193792&quot;&gt;hboon&lt;/a&gt; gave a tip that here is a &lt;a href=&quot;https://support.apple.com/en-sg/guide/iphone/iph8903c3ee6/ios&quot;&gt;hard reset sequence&lt;/a&gt;: press volume up (release) &amp;gt; press volume down (release) &amp;gt; press and hold side button. This will reset without needing the slider (TBC).&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 19 Oct 2019 00:16:37 +0800</pubDate>
        <link>https://samwize.com/2019/10/19/this-is-how-you-force-your-iphone-to-power-off-if-it-get-stuck/</link>
        <guid isPermaLink="true">https://samwize.com/2019/10/19/this-is-how-you-force-your-iphone-to-power-off-if-it-get-stuck/</guid>
        
        
      </item>
    
      <item>
        <title>Migrating App Engine to Go 1.12</title>
        <description>&lt;p&gt;I was working one of those dreadful migration task today.&lt;/p&gt;

&lt;p&gt;Google &lt;strong&gt;deprecated Go versions 1.9&lt;/strong&gt;, that means I can no longer deploy my app engine projects that use the older versions.&lt;/p&gt;

&lt;p&gt;There are &lt;a href=&quot;https://cloud.google.com/appengine/docs/standard/go112/go-differences#migrating-appengine-sdk&quot;&gt;quite many changes&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Some are considerably minor:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;change of &lt;code class=&quot;highlighter-rouge&quot;&gt;app.yaml&lt;/code&gt; structure,&lt;/li&gt;
  &lt;li&gt;the need for a &lt;code class=&quot;highlighter-rouge&quot;&gt;main&lt;/code&gt; package, and&lt;/li&gt;
  &lt;li&gt;replacing &lt;code class=&quot;highlighter-rouge&quot;&gt;google.golang.org/appengine&lt;/code&gt; (urlfetch, log) with golang ones&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Minor, yet it does have much code change.&lt;/p&gt;

&lt;h2 id=&quot;no-more-memcache&quot;&gt;No More Memcache&lt;/h2&gt;

&lt;p&gt;The biggest change turned out to be memcache.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;To use a memcache service on App Engine, use Redis Labs Memcached Cloud instead of App Engine Memcache.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Ouch.&lt;/p&gt;

&lt;p&gt;I now need to use a managed service from &lt;a href=&quot;https://redislabs.com&quot;&gt;Redis&lt;/a&gt;, with it‚Äôs own pricing.&lt;/p&gt;

&lt;p&gt;Luckily, Redis starts with a &lt;strong&gt;free tier of 30mb (memory)&lt;/strong&gt;, which might be sufficient for my small project.&lt;/p&gt;

&lt;h2 id=&quot;a-guide-to-redis-with-golang&quot;&gt;A guide to Redis with golang&lt;/h2&gt;

&lt;p&gt;App Engine has &lt;a href=&quot;https://cloud.google.com/appengine/docs/flexible/python/using-redislabs-redis&quot;&gt;a guide to setting up redis&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Good enough guide, except for &lt;strong&gt;one big problem&lt;/strong&gt;. There is a &lt;a href=&quot;https://github.com/GoogleCloudPlatform/golang-samples/issues/1023&quot;&gt;typo&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/appengine-redis-typo.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;REDIS_PASSSWORD&lt;/code&gt; is wrongly spelled with triple-s.. That wasted 1 hour of my time.&lt;/p&gt;

&lt;p&gt;They would have &lt;a href=&quot;https://github.com/GoogleCloudPlatform/golang-samples/issues/1023&quot;&gt;probably fixed&lt;/a&gt; by the time you are reading this. But one wonders how Google make such mistake.&lt;/p&gt;

&lt;h2 id=&quot;using-redigo&quot;&gt;Using redigo&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://godoc.org/github.com/gomodule/redigo/redis&quot;&gt;redigo&lt;/a&gt; is the Redis library in golang.&lt;/p&gt;

&lt;p&gt;I have a very simple use case. Set a key-value with expiration, and get it.&lt;/p&gt;

&lt;h3 id=&quot;1-set-with-expiration&quot;&gt;1. Set with expiration&lt;/h3&gt;

&lt;p&gt;This can be archived with &lt;a href=&quot;https://redis.io/commands/setex&quot;&gt;SETEX&lt;/a&gt;, which is like SET + EXPIRE but atomic.&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;saveToMemcache&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;redisConn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;redisPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;redisConn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;expiration&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;redisConn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Do&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;SETEX&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expiration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;2-get-from-redis&quot;&gt;2. Get from Redis&lt;/h3&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getFromMemcache&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;redisConn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;redisPool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;redisConn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;redis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;redisConn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Do&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that if the key is unavailable/expired, there will be an error.&lt;/p&gt;

&lt;h2 id=&quot;redis-cli&quot;&gt;Redis CLI&lt;/h2&gt;

&lt;p&gt;You can also connect to redis via CLI. Install with &lt;code class=&quot;highlighter-rouge&quot;&gt;brew install redis&lt;/code&gt;, then:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;redis-cli -u redis://ADDRESS:PORT -a PASSWORD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can then send commands. For example:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;SETEX key 30 value&lt;/code&gt; to set with expiration 30 seconds&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;TTL key&lt;/code&gt; to know the number of seconds to expiration&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;GET key&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;FLUSHALL&lt;/code&gt; to remove all keys&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;deploy&quot;&gt;Deploy&lt;/h2&gt;

&lt;p&gt;Another change is that you have to deploy using &lt;code class=&quot;highlighter-rouge&quot;&gt;gcloud&lt;/code&gt; with the project id and version, instead of specifying them in &lt;code class=&quot;highlighter-rouge&quot;&gt;app.yaml&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gcloud app deploy --project myproject --version 123
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The specified version will also be promoted as the default version.&lt;/p&gt;
</description>
        <pubDate>Wed, 16 Oct 2019 17:29:59 +0800</pubDate>
        <link>https://samwize.com/2019/10/16/migrating-app-engine-to-go-1-12/</link>
        <guid isPermaLink="true">https://samwize.com/2019/10/16/migrating-app-engine-to-go-1-12/</guid>
        
        
        <category>Golang</category>
        
        <category>AppEngine</category>
        
      </item>
    
      <item>
        <title>Info.plist for a macOS Command Line App</title>
        <description>&lt;p&gt;After upgrading to Catalina, one of my &lt;a href=&quot;/2016/02/22/have-fun-with-git-lol-commits/&quot;&gt;favorite tool&lt;/a&gt; broke.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;This app has crashed because it attempted to access privacy-sensitive data without a usage description.  The app‚Äôs Info.plist must contain an NSCameraUsageDescription key with a string value explaining to the user how the app uses this data.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Seems like Catalina started to enforce on apps to declare the reason for using camera/etc.&lt;/p&gt;

&lt;p&gt;In the world of iOS, this is common, and we simply add to Info.plist.&lt;/p&gt;

&lt;p&gt;But for command line tool (CLI), they are simply a binary, and has no Info.plist. So then how to add an Info.plist?&lt;/p&gt;

&lt;h2 id=&quot;solution&quot;&gt;Solution&lt;/h2&gt;

&lt;p&gt;Turns out the solution is simply &lt;strong&gt;have the Info.plist file be in the same directory as the binary&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;In my &lt;a href=&quot;https://github.com/samwize/imagesnap/commit/569d19af64448124aae156b1786ec08d3739343e&quot;&gt;fix&lt;/a&gt; to imagesnap lib, I have not just added Info.plist, but also to copy the file during Build Phase.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Go to Build Phases &amp;gt; Copy Files&lt;/li&gt;
  &lt;li&gt;Destination set to Products Directory&lt;/li&gt;
  &lt;li&gt;Add Info.plist&lt;/li&gt;
  &lt;li&gt;Uncheck ‚ÄúCopy only when installing‚Äù&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This setup would be very necessary for CLI kind of app. I‚Äôm surprised that Xcode didn‚Äôt automate the setup.&lt;/p&gt;

&lt;p&gt;On any case, lolcommits is &lt;a href=&quot;https://github.com/samwize/lolcommits/commit/306dd0ebf21464de2d7824cfae841517cd094b1f&quot;&gt;fixed&lt;/a&gt; and I can take more photo of me fixing stuff ü§†&lt;/p&gt;
</description>
        <pubDate>Sun, 13 Oct 2019 01:29:12 +0800</pubDate>
        <link>https://samwize.com/2019/10/13/info-plist-for-a-macos-command-line-app/</link>
        <guid isPermaLink="true">https://samwize.com/2019/10/13/info-plist-for-a-macos-command-line-app/</guid>
        
        
        <category>macOS</category>
        
      </item>
    
  </channel>
</rss>
