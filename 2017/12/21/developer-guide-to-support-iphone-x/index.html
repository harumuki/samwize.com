<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link type="application/atom+xml" rel="alternate" href="https://samwize.com/feed.xml" title="@samwize" />

  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Developer Guide to Support iPhone X | @samwize</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Developer Guide to Support iPhone X" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="iPhone X introduced The Notch, The Home Indicator, Safe Area, and a different resolution form factor.." />
<meta property="og:description" content="iPhone X introduced The Notch, The Home Indicator, Safe Area, and a different resolution form factor.." />
<link rel="canonical" href="https://samwize.com/2017/12/21/developer-guide-to-support-iphone-x/" />
<meta property="og:url" content="https://samwize.com/2017/12/21/developer-guide-to-support-iphone-x/" />
<meta property="og:site_name" content="@samwize" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-21T11:49:22+08:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@samwize" />
<meta name="twitter:creator" content="@samwize" />
<meta property="fb:admins" content="704185456" />
<script type="application/ld+json">
{"description":"iPhone X introduced The Notch, The Home Indicator, Safe Area, and a different resolution form factor..","headline":"Developer Guide to Support iPhone X","dateModified":"2017-12-21T11:49:22+08:00","datePublished":"2017-12-21T11:49:22+08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://samwize.com/2017/12/21/developer-guide-to-support-iphone-x/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://samwize.com/"}},"url":"https://samwize.com/2017/12/21/developer-guide-to-support-iphone-x/","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="icon" type="image/png" href="https://just2us.com/img/favicon-180.png" />
  <link rel="apple-touch-icon" href="https://just2us.com/img/favicon-192.png"/>

  <link rel="stylesheet" href="https://brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
  <link rel="stylesheet" type="text/css" media="print" href="/css/print.css" />

</head>
  <link href='/stylesheets/all-5a7a81bc37ee3944f1d90d03edea2c57.css' media='all' rel='stylesheet' type='text/css'>
  <body itemscope itemtype="http://schema.org/Article">
    <a href="https://samwize.com" class="logo-readium"><span class="logo" style="background-image: url(/assets/icons/home.png)"></span></a>
    <main class="content" role="main">
      <article class="post">
        
        <div class="noarticleimage">
          <div class="post-meta">
            <h1 class="post-title">Developer Guide to Support iPhone X</h1>
            <div class="cf post-meta-text">
              <time datetime="2017-12-21T11:49:22+08:00">21 December 2017</time>
            </div>
          </div>
        </div>
        <br>
        <br>
        <br>
        
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          
          <p>iPhone X introduced The Notch, The Home Indicator, Safe Area, and a different resolution form factor..</p>

<p>UI design is much affected.</p>

<p>This post is a guide walking through various aspect and how it affects development.</p>

<p>Let’s start with the biggest change in the phone.</p>

<h2 id="the-notch">The Notch</h2>

<p>I like <a href="http://blog.maxrudberg.com/post/166045445103/ui-design-for-iphone-x-top-elements-and-the-notch">maxrudberg’s mentality</a> towards The Notch:</p>

<blockquote>
  <p>Eventually, they will get rid of the notch. It could be 2, 5, or even 10 years, but it’s a stop gap, not a permanent design solution. In the meantime, treat it like the elephant in the room. We all know it’s there, but for the most part, you should design as if it’s not.</p>
</blockquote>

<p>Apple’s Music app and etc uses Card style, and that is against their guideline towards the top notch space.</p>

<p>So, don’t always follow guidelines.</p>

<h2 id="the-home-indicator">The Home Indicator</h2>

<p>Unlike The Notch, the home indicator is a software element. It is a UI on the screen, at the bottom.</p>

<p>To allow auto hide (after user not touching screen) for a view controller:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">prefersHomeIndicatorAutoHidden</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></div>

<p>But <a href="https://medium.com/the-traveled-ios-developers-guide/iphone-x-dealing-with-home-indicator-2e8e47f5647f">note</a> the comment in the doc:</p>

<blockquote>
  <p>The system takes your preference into account, but returning YES is not a guarantee that an indicator will be hidden.</p>
</blockquote>

<h2 id="nav-bar">Nav bar</h2>

<p>iOS automatically fills a nav bar background for the extra space at the top.</p>

<p>Use <strong>black</strong> and it blends with the Notch.</p>

<p>Use <strong>transparent</strong> and extend your content view beyond.</p>

<h2 id="status-bar-when-you-have-nav-bar">Status Bar when you have Nav Bar</h2>

<p>There is an <a href="https://forums.developer.apple.com/thread/88962">undocumented behaviour</a>:</p>

<blockquote>
  <p>If you want to hide the status bar on iPhone X, you should also hide the navigation bar, otherwise you should leave both visible. This is the behavior that UINavigationController implements.</p>
</blockquote>

<p>If you implemented <a href="https://developer.apple.com/documentation/uikit/uiviewcontroller/1621440-prefersstatusbarhidden"><code class="highlighter-rouge">prefersStatusBarHidden</code></a> or <a href="https://developer.apple.com/documentation/uikit/uiviewcontroller/1621451-childviewcontrollerforstatusbarh"><code class="highlighter-rouge">childViewControllerForStatusBarHidden</code></a>, they will NOT work as intended, if you have the navigation bar shown.</p>

<p>Status bar will always be shown, if navigation bar is shown.</p>

<p>You may only <strong>control the color</strong> of the status bar.</p>

<p><del>This <a href="http://stackoverflow.com/a/19513714/242682">method is weird</a>, but yes it works.</del></p>

<p>This <a href="https://stackoverflow.com/a/42301499/242682">extension</a> to <code class="highlighter-rouge">UINavigationController</code> is the cleanest solution (another alternative is subclass it).</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">extension</span> <span class="kt">UINavigationController</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">open</span> <span class="k">var</span> <span class="nv">childViewControllerForStatusBarStyle</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="n">topViewController</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="table-view">Table View</h2>

<p><code class="highlighter-rouge">UITableView</code> should still layout edge to edge (NOT to safe area).</p>

<p>Instead, the <strong>content inset</strong> should be mark safe via <a href="https://developer.apple.com/documentation/uikit/uitableview/2921665-insetscontentviewstosafearea"><code class="highlighter-rouge">insetsContentViewsToSafeArea</code></a> (new in iOS 11).</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="kd">#available(iOS 11.0, *)</span> <span class="p">{</span>
    <span class="n">tableView</span><span class="o">.</span><span class="n">insetsContentViewsToSafeArea</span> <span class="o">=</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="scroll-view">Scroll View</h2>

<p><a href="https://developer.apple.com/documentation/uikit/uiscrollview/2902261-contentinsetadjustmentbehavior"><code class="highlighter-rouge">contentInsetAdjustmentBehavior</code></a> provides more control on how safe area modifies the content inset.</p>

<h2 id="search-controller">Search Controller</h2>

<p>iOS seems to be not adjusting correctly for search controller. Fixed with:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tableView</span><span class="o">.</span><span class="n">contentInsetAdjustmentBehavior</span> <span class="o">=</span> <span class="o">.</span><span class="n">never</span>
</code></pre></div></div>

<p><a href="/2016/11/27/uisearchcontroller-development-guide/">Search controller</a> is a difficult topic, and with iPhone X the recommended way is to set the search bar in the nav bar.</p>

<h2 id="storyboard">Storyboard</h2>

<p>If you use storyboard, in File Inspector, check <strong>Use Safe Area Layout Guides</strong>, and interface builder will replace the old top bottom layout guides with the new safe area.</p>

<p>After which, it is up to you to make changes depending on your UI.</p>

<p>Some pointers:</p>

<ul>
  <li>For table view, don’t <strong>Clip to Bounds</strong> (under Attributes Inspector)</li>
  <li>For cutom bottom tool bar, you can provide a background for the void occupied by Home Indicator</li>
</ul>

<p>There are more guides. <a href="https://developer.apple.com/ios/update-apps-for-iphone-x/">Apple official guide</a>, and <a href="https://useyourloaf.com/blog/supporting-iphone-x/">many</a> <a href="https://medium.com/rosberryapps/ios-safe-area-ca10e919526f">more</a>. <a href="https://designcode.io/ios11-iphone-x">Designcode.io</a> summed up well, with many valuable resources for design. <a href="https://iosdesignkit.io/ios-11-gui/">Sketch file</a> &amp; <a href="http://v1.designcode.io/angle">device mockups</a>.</p>

        </section>
        <footer class="post-footer">
          <section class="share">
            
              
            
              
            
          </section>
        </footer>
        <div class="bottom-teaser cf">
          <hr>
          <!-- Adsense-->
          <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-8504591086876220"
             data-ad-slot="5237367904"
             data-ad-format="auto"></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
        
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'just2us'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        
      </article>
    </main>
    <div class="bottom-closer">
      <div class="background-closer-image"  style="background-image: url(/assets/profile/big-sur.jpg)">
        Image
      </div>
      <div class="inner">
        <h1 class="blog-title">@samwize</h1>
        <h2 class="blog-description">¯\_(ツ)_/¯
</h2>
        <a href="/" class="btn">Back to Home</a>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/index.js"></script>
<script type="text/javascript" src="/assets/js/readingTime.min.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');

      $window.on('scroll', function() {
        var top = $window.scrollTop();

        if (top < 0 || top > 1500) { return; }
        $image
          .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
          .css('opacity', 1-Math.max(top/700, 0));
      });
      $window.trigger('scroll');

      var height = $('.article-image').height();
      $('.post-content').css('padding-top', height + 'px');

      $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
         && location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
          if (target.length) {
            $('html,body').animate({ scrollTop: target.offset().top }, 500);
            return false;
          }
        }
      });

  });
}(jQuery));
</script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8780506-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-8504591086876220",
          enable_page_level_ads: true
     });
</script>
  </body>
</html>
