<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Create Multiple Targets/Apps for 1 Xcode Project</title>
  <meta name="description" content="This guide is for building muliple targets/apps for a single project, follow-up of an old post in 2009." />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@samwize" />
    <meta name="twitter:title" content="Create Multiple Targets/Apps for 1 Xcode Project" />
    <meta name="twitter:image" content="http://samwize.com" />
    
    <meta name="twitter:description"  content="This guide is for building muliple targets/apps for a single project, follow-up of an old post in 2009." />
    
  
  
  <meta property="og:site_name" content="@samwize" />
  <meta property="og:title" content="Create Multiple Targets/Apps for 1 Xcode Project"/>
  
  <meta property="og:description" content="This guide is for building muliple targets/apps for a single project, follow-up of an old post in 2009." />
  
  <meta property="og:image" content="http://samwize.com" />
  <meta property="og:url" content="http://samwize.com/2014/05/22/create-multiple-targets-slash-apps-for-1-xcode-project/" >
  <meta property="og:type" content="blog" />
  <meta property="article:published_time" content="2014-05-22T22:50:32+08:00">

  <link rel="canonical" href="http://samwize.com/2014/05/22/create-multiple-targets-slash-apps-for-1-xcode-project/">

  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
  <link rel="stylesheet" type="text/css" media="print" href="/css/print.css" />
</head>
  <link href='/stylesheets/all-2eafd04c53bc4a51632c1f6aa4746ce3.css' media='all' rel='stylesheet' type='text/css'>
  <body itemscope itemtype="http://schema.org/Article">
    <!-- header start -->

<a href="http://samwize.com" class="logo-readium"><span class="logo" style="background-image: url(/assets/icons/home.png)"></span></a>

<!-- header end -->
    <main class="content" role="main">
      <article class="post">
        
        <div class="noarticleimage">
          <div class="post-meta">
            <h1 class="post-title">Create Multiple Targets/Apps for 1 Xcode Project</h1>
            <div class="cf post-meta-text">
              <time datetime="2014-05-22T22:50:32+08:00">22 May 2014</time>
              <!-- , tagged on <span class="post-tag-">, <a href="/tag/"></a></span> -->
            </div>
          </div>
        </div>
        <br>
        <br>
        <br>
        
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          <p>This guide is for building muliple targets/apps for a single project, follow-up of an <a href="http://blog.just2us.com/2009/07/tutorial-creating-multiple-targets-for-xcode-iphone-projects/">old post</a> in 2009.</p>

<p>If you have 2 or more versions of the same app eg. a lite and a pro version, or many versions of the same map app but for different country, then this guide is for you.</p>

<p>Let&#39;s use the scenario of an <strong>&quot;Awesome&quot;</strong> app, which I want to create <strong>&quot;Awesome Lite&quot;</strong>.</p>

<!-- more -->

<h1>1. Create New Target</h1>

<p>Go to Project &gt; Targets &gt; Select the original target &quot;Awesome&quot; &gt; Right click &gt; Duplicate.</p>

<p>When duplicating a target, the default generates &quot;Awesome copy&quot; .app, .plist, etc. We want to change that.</p>

<p>Rename the new target (select and press enter to edit) to &quot;Awesome Lite&quot;.</p>

<p>Under Build Settings, search for &quot;Awesome copy&quot;. You need to rename <strong>Product Name</strong> to &quot;Awesome Lite&quot;, and rename <strong>Info.plist</strong> to &quot;Awesome Lite-info.plist&quot;.</p>

<p>In your project, find &quot;Awesome copy-info.plist&quot;, and rename to &quot;Awesome Lite-info.plist&quot;. After renaming, you would need to delete the &quot;missing one&quot; in your project navigator, and drag the new one in, and select the correct target (Awesome Lite) to copy for.</p>

<p>Pitfall: Take note of the path for the plist. If you place it in the root folder of the project, then you can just specify the name (no need the path). If not, specify the full path <code>$(PROJECT_DIR)/path/to/Info.plist</code>.</p>

<h1>2. Edit Scheme</h1>

<p>Go to Product &gt; Scheme &gt; Edit Scheme &gt; change the scheme &quot;Awesome copy&quot; to &quot;Awesome Lite&quot;.</p>

<p>At this point, you should now be able to build and run the new scheme (even though it is exactly the same as the original target). We will modify the lite version from this point onwards.</p>

<h1>3. Edit Info.plist</h1>

<p>Go to the new target &gt; Info &gt; edit these accordingly:</p>

<ul>
<li>Bundle Display Name</li>
<li>Bundle Name</li>
<li>Bundle Identifier</li>
</ul>

<h1>4. Writing Preprocessor Codes</h1>

<p>Preprocessor codes are used to determine which code would be used during compile time. You may want different targets to run different section of the codes using preprocessor codes.</p>

<p>For example:</p>

<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="cp">#if defined(TARGET_LITE)</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Lite version&quot;</span><span class="p">);</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="cp">#else</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Original version&quot;</span><span class="p">);</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="cp">#endif</span></div></div></pre></div></figure>

<p>Select &quot;Awesome Lite&quot; target &gt; Build Settings &gt; Preprocessing &gt; Preprocessor Macros &gt; Add <code>TARGET_LITE</code> to each of the configuration (eg both Debug and Release configurations).</p>

<p>Warning: You must change for all configurations. The default is Debug and Release, but let&#39;s say you created a &quot;Beta&quot;, then you have to change that too.</p>

<h1>5. Resources, Images and Assets Catalog</h1>

<p>For any such resources (except Assets Catalog), the trick here is to specify their targets.</p>

<p>Select the resource &gt; File Inspector &gt; Target Membership &gt; check the targets intended.</p>

<p>For Assets Catalog, you have to create for each target because you cannot specify individual target membership for each of the images in it.</p>

<p>You can add &quot;New App Icon&quot; in the new assets catalog, and simply delete the app icon in the old one.</p>

<h1>6. If you are using Pods</h1>

<p>If you are using CocoaPods, and assets doesn&#39;t work correctly, read this <a href="https://github.com/CocoaPods/CocoaPods/issues/1546">pod issue</a>.</p>

<p>I added the following to my <code>Podfile</code> and it works:</p>

<figure class='code-highlight-figure'><div class='code-highlight'><pre class='code-highlight-pre'><div data-line='1' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="c1"># Append to Podfile</span>
</div></div><div data-line='2' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="n">post_install</span> <span class="k">do</span> <span class="o">|</span><span class="n">installer</span><span class="o">|</span>
</div></div><div data-line='3' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="n">installer</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">target</span><span class="o">|</span>
</div></div><div data-line='4' class='code-highlight-row numbered'><div class='code-highlight-line'>        <span class="sx">%x~ if [ ! -f Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh.bak ]; then cp Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh.bak; fi ~</span>
</div></div><div data-line='5' class='code-highlight-row numbered'><div class='code-highlight-line'> </div></div><div data-line='6' class='code-highlight-row numbered'><div class='code-highlight-line'>        <span class="sx">%x~ sed &#39;/WRAPPER_EXTENSION/,/fi\\n/d&#39; Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh &gt; Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh.temp ~</span>
</div></div><div data-line='7' class='code-highlight-row numbered'><div class='code-highlight-line'>        <span class="sx">%x~ sed &#39;/*.xcassets)/,/;;/d&#39; Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh.temp &gt; Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh ~</span>
</div></div><div data-line='8' class='code-highlight-row numbered'><div class='code-highlight-line'>        <span class="sx">%x~ rm Pods/</span><span class="si">#&#x7b;</span><span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="si">&#x7d;</span><span class="sx">-resources.sh.temp ~</span>
</div></div><div data-line='9' class='code-highlight-row numbered'><div class='code-highlight-line'>    <span class="k">end</span>
</div></div><div data-line='10' class='code-highlight-row numbered'><div class='code-highlight-line'><span class="k">end</span></div></div></pre></div></figure>

        </section>
        <footer class="post-footer">
          <section class="share">
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=Create+Multiple+Targets%2FApps+for+1+Xcode+Project&amp;url=http://samwize.com/2014/05/22/create-multiple-targets-slash-apps-for-1-xcode-project"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="fa fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
                <a class="icon-facebook" href="https://www.facebook.com/sharer.php?t=Create+Multiple+Targets%2FApps+for+1+Xcode+Project&amp;u=http://samwize.com/2014/05/22/create-multiple-targets-slash-apps-for-1-xcode-project"
                  onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
                <i class="fa fa-facebook"></i><span class="hidden">facebook</span>
                </a>
              
            
              
            
              
                <a class="icon-google-plus" href="https://plus.google.com/share?t=Create+Multiple+Targets%2FApps+for+1+Xcode+Project&amp;url=http://samwize.com/2014/05/22/create-multiple-targets-slash-apps-for-1-xcode-project"
                  onclick="window.open(this.href, 'google-plus-share', 'width=550,height=255');return false;">
                <i class="fa fa-google-plus"></i><span class="hidden">google-plus</span>
                </a>
              
            
          </section>
        </footer>
        <div class="bottom-teaser cf">
          <hr>
          <!-- Adsense-->
          <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
          <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-8504591086876220"
             data-ad-slot="5237367904"
             data-ad-format="auto"></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
        
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'just2us'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        
      </article>
    </main>
    <div class="bottom-closer">
      <div class="background-closer-image"  style="background-image: url(/assets/profile/cover-2015.jpg)">
        Image
      </div>
      <div class="inner">
        <h1 class="blog-title">@samwize</h1>
        <h2 class="blog-description">¯\_(ツ)_/¯
</h2>
        <a href="/" class="btn">Back to Home</a>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/assets/js/index.js"></script>
<script type="text/javascript" src="/assets/js/readingTime.min.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');
    
      $window.on('scroll', function() {
        var top = $window.scrollTop();

        if (top < 0 || top > 1500) { return; }
        $image
          .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
          .css('opacity', 1-Math.max(top/700, 0));
      });
      $window.trigger('scroll');

      var height = $('.article-image').height();
      $('.post-content').css('padding-top', height + 'px');

      $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
         && location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
          if (target.length) {
            $('html,body').animate({ scrollTop: target.offset().top }, 500);
            return false;
          }
        }
      });

  });
}(jQuery));
</script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8780506-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </body>
</html>
